{"version":3,"sources":["utils/object/index.js","utils/array/index.js","utils/getMarkdownSyncApi/modelToMarkdown.js","utils/logger/index.js","utils/getMarkdownSyncApi/splitMarkdown.js","utils/getMarkdownSyncApi/markdownToModel.js","utils/getMarkdownSyncApi/index.js","hooks/useMarkdownSync/index.js","utils/editor/index.js","hooks/useFullscreen/index.js","components/Menu/index.js","components/AreaBorder/index.js","hooks/useIsFocusWithin/index.js","icons/formatBold.svg","icons/formatSize.svg","icons/formatItalic.svg","icons/formatListBulleted.svg","icons/formatListNumbered.svg","icons/formatStrikethrough.svg","icons/formatUnderlined.svg","icons/note.svg","components/Editor/controlTypes.js","components/Editor/components/StyleButton.js","components/Editor/components/ControlsGroup.js","components/Editor/components/Controls.js","components/Editor/components/Card.js","components/Editor/getCardRenderer.js","components/Editor/index.js","components/CanvasArea/index.js","components/CanvasHeader/index.js","components/BusinessModelCanvas/model.js","components/BusinessModelCanvas/index.js"],"names":["mergeObjects","destination","source","isPlainObject","mergeWith","cloneDeep","destinationEntry","sourceEntry","isArray","undefined","mapObject","object","callback","Object","keys","reduce","acc","key","objectSpread","defineProperty","getArrayObjectKeys","array","map","entry","mergeArraysByKey","_ref","destinationKeyValues","sourceKeyValues","union","keyValue","indexOf","isNil","modelToMarkdown","header","props","sections","concat","value","_ref2","join","_ref3","sectionHeader","placeholder","content","logger","log","console","warn","error","mainHeaderRegex","anyHeaderRegex","propertyRegex","sectionHeaderRegex","placeholderRegex","placeholderStartRegex","placeholderEndRegex","splitMarkdown","lines","split","_findHeader","currentIndex","length","currentLine","headerMatch","match","_headerMatch","slicedToArray","trim","index","findHeader","_findProps","startIndex","propertyMatch","_propertyMatch","push","lastIndex","findProps","sectionHeaderMatch","_sectionHeaderMatch","preHeader","postHeader","_findPlaceholderText","findPlaceholderText","placeholderIndex","findSections","placeholderLines","placeholderMatch","placeholderStartMatch","placeholderEndMatch","markdownToModel","model","markdown","nextModel","modelSectionKeys","defaultModelSectionKeys","invalidSectionKeys","without","apply","toConsumableArray","forEach","invalidSectionKey","modelPropertyKeys","defaultModelPropertyKeys","invalidPropertyKeys","invalidPropertyKey","deepMergeObjects","merged","storeLocal","debounce","localStorage","setItem","localStorageKey","getInitialMarkdownSyncApi","markdownSyncApi","Error","onModelChange","currentModel","handleModelChange","loadFromFile","file","Promise","resolve","reject","fileReader","FileReader","onload","event","loadMarkdown","target","result","onerror","readAsText","loadFromLocalStorage","getItem","saveAs","blob","Blob","type","fileName","substr","replace","FileSaver","reset","setOnChange","nextOnModelChange","removeOnChange","SECTION_KEYS","getSectionIndex","findIndex","getSection","updateSection","sectionUpdate","currentSection","nextSections","Array","from","updateHeader","headerUpdate","PROP_KEYS","getPropertyIndex","getProperty","updateProperty","propertyUpdate","currentProperty","nextProps","getMarkdownSyncApi","updateEditorStateWithMarkdown","editorState","md","EditorState","stateFromMarkdown","getMarkdownFromEditorState","stateToMarkdown","getCurrentContent","gfm","toggleInlineStyle","inlineStyle","RichUtils","toggleBlockType","blockType","blockData","selectedBlock","getSelectedBlock","hasBlockType","hasBlockData","setBlockData","toggledEditorState","getBlockForKey","getSelection","getStartKey","block","getType","currentBlockData","getData","blockDataKeys","size","find","get","data","nextContentState","Modifier","getIsFullscreen","Boolean","document","fullscreenElement","webkitCurrentFullScreenElement","toggleFullscreen","exitFullscreen","mozExitFullscreen","webkitExitFullscreen","element","arguments","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","itemStyles","Container","styled","div","_templateObject","theme","pageBackground","HiddenForm","form","_templateObject2","MenuButton","button","_templateObject3","Notice","span","_templateObject4","Menu","onReset","onSaveAs","otherProps","objectWithoutProperties","importFormRef","useRef","importInputRef","handleReset","useCallback","window","confirm","handleHelp","_useFullscreen","_useState","useState","_useState2","isFullscreen","setIsFullscreen","useEffect","handleFullscreenChange","addEventListener","removeEventListener","isFullscreenSupported","supports","fullscreen","useFullscreen","react_default","a","createElement","platform","isIos","mode","isStandalone","onClick","current","click","ref","accept","aria-hidden","tabIndex","onChange","files","print","aria-label","AreaBorderBase","AreaBorder_templateObject","borderColor","AreaBorderTop","AreaBorder_templateObject2","AreaBorderRight","AreaBorder_templateObject3","AreaBorderBottom","AreaBorder_templateObject4","AreaBorderLeft","_templateObject5","AreaBorder","top","right","bottom","left","Fragment","watchers","addToGlobalHandlers","setIsFocusWithin","isFocusWithin","body","checkIfFocusIsWithin","removeFromGlobalHandlers","remove","watcher","currentElement","contains","_extends","assign","i","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","formatBold_ref2","d","fill","formatBold_SvgFormatBold","svgRef","width","height","viewBox","ForwardRef","forwardRef","__webpack_require__","p","formatSize_extends","formatSize_objectWithoutProperties","formatSize_objectWithoutPropertiesLoose","formatSize_ref2","formatSize_ref3","formatSize_SvgFormatSize","formatSize_ForwardRef","formatItalic_extends","formatItalic_objectWithoutProperties","formatItalic_objectWithoutPropertiesLoose","formatItalic_ref2","formatItalic_ref3","formatItalic_SvgFormatItalic","formatItalic_ForwardRef","formatListBulleted_extends","formatListBulleted_objectWithoutProperties","formatListBulleted_objectWithoutPropertiesLoose","formatListBulleted_ref2","formatListBulleted_ref3","formatListBulleted_SvgFormatListBulleted","formatListBulleted_ForwardRef","formatListNumbered_extends","formatListNumbered_objectWithoutProperties","formatListNumbered_objectWithoutPropertiesLoose","formatListNumbered_ref2","formatListNumbered_ref3","formatListNumbered_SvgFormatListNumbered","formatListNumbered_ForwardRef","formatStrikethrough_extends","formatStrikethrough_objectWithoutProperties","formatStrikethrough_objectWithoutPropertiesLoose","formatStrikethrough_ref2","formatStrikethrough_ref3","formatStrikethrough_SvgFormatStrikethrough","formatStrikethrough_ForwardRef","formatUnderlined_extends","formatUnderlined_objectWithoutProperties","formatUnderlined_objectWithoutPropertiesLoose","formatUnderlined_ref2","formatUnderlined_ref3","formatUnderlined_SvgFormatUnderlined","formatUnderlined_ForwardRef","note_extends","note_objectWithoutProperties","note_objectWithoutPropertiesLoose","note_ref2","note_ref3","note_SvgNote","note_ForwardRef","inlineControlTypes","label","icon","blockControlTypes","getCardType","color","_ref$key","language","Button","StyleButton_templateObject","StyleButton","_ref4","isActive","onToggle","handleClick","preventDefault","aria-pressed","onKeyDown","onMouseDown","ControlsGroup_templateObject","BlockStyleControls","controlTypes","getIsActive","ControlsGroup_Container","controlType","components_StyleButton","ControlsContainer","Controls_templateObject","isVisible","Controls","cardControlTypes","handleToggleInlineStyle","handleToggleBlockType","nextEditorState","getIsActiveBlock","currentStyle","getCurrentInlineStyle","getIsActiveStyle","has","ControlsGroup","SectionElement","section","Card_templateObject","Card","blockProps","Draft","memoize","cardStyles","contentBlock","currentCardStyle","cardStyle","component","editable","EditorContainer","Editor_templateObject","GlobalDraftJsEditorStyle","createGlobalStyle","Editor_templateObject2","Editor","isSimple","editorRef","containerRef","useIsFocusWithin","cardRenderer","useMemo","getCardRenderer","handleChange","handleKeyCommand","command","newState","handleReturn","shiftKey","insertSoftNewline","focus","blockRendererFn","components_Controls","defaultProps","AreaBox","article","CanvasArea_templateObject","AreaHeader","h2","CanvasArea_templateObject2","HiddenAreaHeader","CanvasArea_templateObject3","StyledEditor","CanvasArea_templateObject4","CanvasArea","border","components_AreaBorder","CanvasHeader_templateObject","HeaderContainer","CanvasHeader_templateObject2","Header","h1","CanvasHeader_templateObject3","HeaderInput","input","CanvasHeader_templateObject4","HeaderContainerRight","CanvasHeader_templateObject5","PropertyInput","_templateObject6","StyledCanvasArea","_templateObject7","CanvasHeader","gridArea","onHeaderChange","onPropertyChange","sectionProps","handleHeaderChange","handleDateChange","handleNameChange","CanvasHeader_Container","BusinessModelCanvas_model","Date","toLocaleDateString","isHeader","GridContainer","BusinessModelCanvas_templateObject","paperBackground","BusinessModelCanvas_templateObject2","StyledCanvasHeader","BusinessModelCanvas_templateObject3","StyledMenu","BusinessModelCanvas_templateObject4","getInitialEditorStates","createWithContent","BusinessModelCanvas","_useState3","triggerRenderCycle","useMarkdownSync","editorStates","setEditorStates","updateEditorStates","nextEditorStates","then","_ref5","_ref6","setSectionEditorState","BusinessModelCanvas_StyledCanvasArea"],"mappings":"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","file":"static/js/4.72724fbf.chunk.js","sourcesContent":["import cloneDeep from 'lodash/cloneDeep'\nimport isArray from 'lodash/isArray'\nimport isFunction from 'lodash/isFunction'\nimport isObject from 'lodash/isObject'\nimport isPlainObject from 'lodash/isPlainObject'\nimport isRegExp from 'lodash/isRegExp'\nimport mergeWith from 'lodash/mergeWith'\n\n\nexport function mergeObjects(destination, source) {\n  if (isPlainObject(destination)) {\n    return mergeWith(\n      cloneDeep(destination),\n      source,\n      (destinationEntry, sourceEntry) => {\n        if (isArray(destinationEntry)) {\n          return sourceEntry\n        }\n        return undefined\n      }\n    )\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\nexport function deepMergeObjects(destination, source) {\n  const merged = mergeObjects(destination, source)\n  if (isPlainObject(merged)) {\n    return mapObject(merged, (key) => deepMergeObjects(\n      isPlainObject(destination) ? destination[key] : undefined,\n      isPlainObject(source) ? source[key] : undefined\n    ))\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\n\nexport function mapObject(object, callback) {\n  return Object.keys(object).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: callback(key, object[key]),\n    }),\n    {}\n  )\n}\n\nexport function mapEverything(object, callback) {\n  if (isArray(object)) {\n    return Array.prototype.map.call(object, (value, index) => callback(index, value))\n  } else if (isObject(object) && !isRegExp(object) && !isFunction(object)) {\n    return mapObject(object, callback)\n  } else {\n    return object\n  }\n}\n","import { mergeObjects } from 'utils/object'\n\nimport isArray from 'lodash/isArray'\nimport isNil from 'lodash/isNil'\nimport union from 'lodash/union'\n\n\nexport function forceArray(value) {\n  if (isArray(value)) {\n    return value\n  } else if (!isNil(value)) {\n    return [value]\n  } else {\n    return []\n  }\n}\n\nexport function getArrayObjectKeys(array, key) {\n  return array.map((entry) => entry && entry[key])\n}\n\nexport function mergeArraysByKey(destination, source, { key }) {\n  if (isArray(destination) && isArray(source)) {\n    const destinationKeyValues = getArrayObjectKeys(destination, key)\n    const sourceKeyValues = getArrayObjectKeys(source, key)\n    const mergedKeyValues = union(destinationKeyValues, sourceKeyValues)\n\n    return mergedKeyValues.map((keyValue) => {\n      const destinationEntry = destination[destinationKeyValues.indexOf(keyValue)]\n      const sourceEntry = source[sourceKeyValues.indexOf(keyValue)]\n\n      return mergeObjects(destinationEntry, sourceEntry)\n    })\n  } else if (isNil(source)) {\n    return destination\n  } else {\n    return source\n  }\n}\n","export default function modelToMarkdown(\n  {\n    header,\n    props,\n    sections,\n  }\n) {\n  return `# ${header.value}\n${props.map(({\n    key,\n    value,\n  }) => `${key}:${value ? ` ${value}` : ''}`).join('\\n')}\n\n${sections.map(({\n    key,\n    header: sectionHeader,\n    placeholder,\n    content,\n  }) => `## ${sectionHeader} {${key}}${placeholder ? `\n[${placeholder}]` : ''}${content ? `\n${content}` : ''}\n`).join('\\n')}\n`\n}\n","/* eslint-disable no-console */\n\nexport default {\n  log: console.log,\n  warn: console.warn,\n  error: console.error,\n}\n","\nconst mainHeaderRegex = /^\\s*#(?!#)\\s*(.*)$/\nconst anyHeaderRegex = /^\\s*#(.*)$/\nconst propertyRegex = /^\\s*(\\S+)\\s*:(.*)$/\nconst sectionHeaderRegex = /^\\s*##([^{]*){([^}]*)}(.*)$/\nconst placeholderRegex = /\\[(.*)\\S*\\]/\nconst placeholderStartRegex = /\\s*\\[(.*)/\nconst placeholderEndRegex = /^\\s*([^\\]]*)]/\n\n\nexport default function splitMarkdown(content) {\n  const lines = content.split('\\n')\n\n  const {\n    header,\n    index: headerIndex,\n  } = findHeader(lines)\n\n  const {\n    props,\n    lastIndex: lastPropIndex,\n  } = findProps(lines, headerIndex + 1)\n\n  const {\n    sections,\n  } = findSections(lines, lastPropIndex + 1)\n\n  return {\n    header,\n    props,\n    sections,\n  }\n}\n\nexport function findHeader(lines) {\n  let currentIndex = 0\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const headerMatch = currentLine.match(mainHeaderRegex)\n\n    if (headerMatch) {\n      const [/* fullMatch */, header] = headerMatch\n      return {\n        header: {\n          value: header.trim(),\n        },\n        index: currentIndex,\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    header: {\n      value: '',\n    },\n    index: -1,\n  }\n}\n\nexport function findProps(lines, startIndex) {\n  let currentIndex = startIndex\n  const props = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const propertyMatch = currentLine.match(propertyRegex)\n\n    if (propertyMatch) {\n      const [/* fullMatch */, key, value] = propertyMatch\n      props.push({\n        key: key.trim(),\n        value: value.trim(),\n      })\n    } else if (currentLine.match(anyHeaderRegex)) {\n      break\n    }\n    currentIndex += 1\n  }\n\n  return {\n    props,\n    lastIndex: currentIndex - 1,\n  }\n}\n\nexport function findSections(lines, startIndex) {\n  let currentIndex = startIndex\n  const sections = []\n\n  while (currentIndex < lines.length) {\n    let currentLine = lines[currentIndex]\n    const sectionHeaderMatch = currentLine.match(sectionHeaderRegex)\n\n    if (sectionHeaderMatch) {\n      const [/* fullMatch */, preHeader, key, postHeader] = sectionHeaderMatch\n\n      const header = `${preHeader.trim()} ${postHeader.trim()}`.trim()\n\n      const {\n        placeholder,\n        index: placeholderIndex,\n      } = findPlaceholderText(lines, currentIndex + 1)\n\n      currentIndex = placeholderIndex + 1 || currentIndex + 1\n      const content = []\n\n      while (currentIndex < lines.length && !(lines[currentIndex + 1] || '').match(sectionHeaderRegex)) {\n        currentLine = lines[currentIndex]\n        content.push(currentLine)\n        currentIndex += 1\n      }\n\n      sections.push({\n        key: key.trim(),\n        header,\n        placeholder,\n        content: content.join('\\n').trim(),\n      })\n    }\n    currentIndex += 1\n  }\n  return {\n    sections,\n  }\n}\n\nexport function findPlaceholderText(lines, startIndex) {\n  let currentIndex = startIndex\n  const placeholderLines = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex].trim()\n\n    if (placeholderLines.length === 0) {\n      const placeholderMatch = currentLine.match(placeholderRegex)\n      if (placeholderMatch) {\n        const [/* fullMatch */, placeholder] = placeholderMatch\n        return {\n          placeholder: placeholder.trim(),\n          index: currentIndex,\n        }\n      } else {\n        const placeholderStartMatch = currentLine.match(placeholderStartRegex)\n        if (placeholderStartMatch) {\n          const [/* fullMatch */, placeholder] = placeholderStartMatch\n          placeholderLines.push(placeholder.trim())\n        } else if (currentLine !== '') {\n          break\n        }\n      }\n    } else if (placeholderLines.length > 0) {\n      const placeholderEndMatch = currentLine.match(placeholderEndRegex)\n\n      if (placeholderEndMatch) {\n        const [/* fullMatch */, placeholder] = placeholderEndMatch\n        placeholderLines.push(placeholder.trim())\n        return {\n          placeholder: placeholderLines.join('\\n'),\n          index: currentIndex,\n        }\n      } else {\n        placeholderLines.push(currentLine)\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    placeholder: '',\n    index: -1,\n  }\n}\n","\nimport { getArrayObjectKeys, mergeArraysByKey } from 'utils/array'\nimport { deepMergeObjects } from 'utils/object'\nimport logger from 'utils/logger'\n\nimport without from 'lodash/without'\n\nimport splitMarkdown from './splitMarkdown'\n\n\nexport default function markdownToModel(model, markdown) {\n  try {\n    const nextModel = splitMarkdown(markdown)\n\n    const modelSectionKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelSectionKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidSectionKeys = without(\n      modelSectionKeys,\n      ...defaultModelSectionKeys\n    )\n    if (invalidSectionKeys.length > 0) {\n      logger.warn('Unexpected sections found:', invalidSectionKeys)\n      invalidSectionKeys.forEach((invalidSectionKey) => {\n        delete nextModel.sections[invalidSectionKey]\n      })\n    }\n\n    const modelPropertyKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelPropertyKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidPropertyKeys = without(\n      modelPropertyKeys,\n      ...defaultModelPropertyKeys\n    )\n    if (invalidPropertyKeys.length > 0) {\n      logger.warn('Unexpected props found:', invalidPropertyKeys)\n      invalidPropertyKeys.forEach((invalidPropertyKey) => {\n        delete nextModel.sections[invalidPropertyKey]\n      })\n    }\n\n    nextModel.sections = mergeArraysByKey(\n      model.sections,\n      nextModel.sections,\n      { key: 'key' }\n    )\n\n    nextModel.props = mergeArraysByKey(\n      model.props,\n      nextModel.props,\n      { key: 'key' }\n    )\n\n    const mergedModel = deepMergeObjects(\n      model,\n      nextModel,\n      { arrayKey: 'key' },\n    )\n    return mergedModel\n  } catch (error) {\n    logger.error('Parsing model failed')\n    logger.error(error)\n  }\n  return model\n}\n","import { getArrayObjectKeys } from 'utils/array'\nimport isPlainObject from 'lodash/isPlainObject'\nimport findIndex from 'lodash/findIndex'\nimport debounce from 'lodash/debounce'\nimport FileSaver from 'file-saver'\n\nimport modelToMarkdown from './modelToMarkdown'\nimport markdownToModel from './markdownToModel'\n\nconst storeLocal = debounce((model) => {\n  localStorage.setItem(model.localStorageKey, modelToMarkdown(model))\n  localStorage.setItem('isInited', 'true')\n}, 250)\n\n\nexport default function getMarkdownSyncApi({\n  model,\n}) {\n  if (!isPlainObject(model)) {\n    throw new Error('Model must be provided: useMarkdownSync({ model })')\n  }\n\n  let currentModel = model\n  let onModelChange\n  const handleModelChange = (nextModel) => {\n    currentModel = nextModel\n    storeLocal(nextModel)\n    if (onModelChange) {\n      onModelChange(nextModel)\n    }\n  }\n\n  const markdownSyncApi = {\n    loadFromFile(file) {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader()\n        fileReader.onload = (event) => {\n          markdownSyncApi.loadMarkdown(\n            event.target.result\n          )\n          resolve()\n        }\n        fileReader.onerror = reject\n        fileReader.readAsText(file)\n      })\n    },\n    loadFromLocalStorage() {\n      markdownSyncApi.loadMarkdown(\n        localStorage.getItem(model.localStorageKey)\n      )\n    },\n    loadMarkdown(markdown) {\n      if (markdown) {\n        handleModelChange(\n          markdownToModel(model, markdown)\n        )\n      }\n    },\n    saveAs() {\n      const blob = new Blob([modelToMarkdown(currentModel)], { type: 'text/plain;charset=utf-8' })\n      const fileName = `business model canvas - ${currentModel.header.value.substr(0, 20).replace(/[^a-zA-Z0-9]+/g, ' ')}.txt`\n      FileSaver.saveAs(blob, fileName)\n    },\n    reset() {\n      handleModelChange(model)\n    },\n\n    setOnChange(nextOnModelChange) {\n      onModelChange = nextOnModelChange\n    },\n    removeOnChange() {\n      onModelChange = null\n    },\n\n    get SECTION_KEYS() {\n      return getArrayObjectKeys(model.sections, 'key')\n    },\n    get sections() {\n      return currentModel.sections\n    },\n    getSectionIndex(key) {\n      return findIndex(markdownSyncApi.sections, ['key', key])\n    },\n    getSection(key) {\n      return markdownSyncApi.sections[\n        markdownSyncApi.getSectionIndex(key)\n      ]\n    },\n    updateSection(key, sectionUpdate) {\n      if (!isPlainObject(sectionUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateSection(key: string, sectionUpdate: object)')\n      }\n      const index = markdownSyncApi.getSectionIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Section with key \"${key}\" not available in model`, model)\n      }\n      const currentSection = currentModel.sections[index]\n      const nextSections = Array.from(currentModel.sections)\n      nextSections[index] = {\n        ...currentSection,\n        ...sectionUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        sections: nextSections,\n      })\n    },\n\n    get header() {\n      return currentModel.header\n    },\n    updateHeader(headerUpdate) {\n      if (!isPlainObject(headerUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateHeader(headerUpdate: object)')\n      }\n      handleModelChange({\n        ...currentModel,\n        header: {\n          ...currentModel.header,\n          ...headerUpdate,\n        },\n      })\n    },\n\n    get PROP_KEYS() {\n      return getArrayObjectKeys(model.props, 'key')\n    },\n    get props() {\n      return currentModel.props\n    },\n    getPropertyIndex(key) {\n      return findIndex(markdownSyncApi.props, ['key', key])\n    },\n    getProperty(key) {\n      return markdownSyncApi.props[\n        markdownSyncApi.getPropertyIndex(key)\n      ]\n    },\n    updateProperty(key, propertyUpdate) {\n      if (!isPlainObject(propertyUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateHeader(key: string, propertyUpdate: object)')\n      }\n\n      const index = markdownSyncApi.getPropertyIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Property with key \"${key}\" not available in model`, model)\n      }\n      const currentProperty = currentModel.props[index]\n      const nextProps = Array.from(currentModel.props)\n      nextProps[index] = {\n        ...currentProperty,\n        ...propertyUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        props: nextProps,\n      })\n    },\n  }\n\n  return markdownSyncApi\n}\n","import { useEffect, useState } from 'react'\n\nimport getMarkdownSyncApi from 'utils/getMarkdownSyncApi'\n\n\nconst getInitialMarkdownSyncApi = (model) => {\n  const markdownSyncApi = getMarkdownSyncApi({ model })\n  markdownSyncApi.loadFromLocalStorage()\n  return markdownSyncApi\n}\n\nexport default function useMarkdownSync({\n  model,\n}) {\n  const [markdownSyncApi/* , neverChangeIt */] = useState(\n    () => getInitialMarkdownSyncApi(model)\n  )\n  const [/* value */, triggerRenderCycle] = useState()\n  useEffect(() => {\n    markdownSyncApi.setOnChange(triggerRenderCycle)\n\n    return function cleanup() {\n      markdownSyncApi.removeOnChange()\n    }\n  }, [markdownSyncApi])\n\n\n  return markdownSyncApi\n}\n","import { EditorState, Modifier, RichUtils } from 'draft-js'\nimport { stateFromMarkdown } from 'draft-js-import-markdown'\nimport { stateToMarkdown } from 'draft-js-export-markdown'\n\n\nexport const createEditorStateFromMarkdown = (md) => EditorState.createWithContent(\n  stateFromMarkdown(md)\n)\nexport const updateEditorStateWithMarkdown = (editorState, md) => EditorState.push(\n  editorState,\n  stateFromMarkdown(md)\n)\nexport const getMarkdownFromEditorState = (editorState) => stateToMarkdown(\n  editorState.getCurrentContent(),\n  { gfm: true }\n)\n\n\nexport const toggleInlineStyle = (editorState, inlineStyle) => RichUtils.toggleInlineStyle(\n  editorState,\n  inlineStyle\n)\n\nexport const toggleBlockType = (editorState, blockType, blockData) => {\n  const selectedBlock = getSelectedBlock(editorState)\n\n  if (hasBlockType(selectedBlock, blockType) && !hasBlockData(selectedBlock, blockData)) {\n    return setBlockData(editorState, blockData)\n  }\n  const toggledEditorState = RichUtils.toggleBlockType(\n    editorState,\n    blockType\n  )\n  return setBlockData(toggledEditorState, blockData)\n}\n\nexport const getSelectedBlock = (editorState) => editorState.getCurrentContent().getBlockForKey(\n  editorState.getSelection().getStartKey()\n)\n\nexport const hasBlockType = (block, blockType) => block.getType() === blockType\n\nexport const hasBlockData = (block, blockData) => {\n  const currentBlockData = block.getData()\n  const blockDataKeys = Object.keys(blockData)\n  if (currentBlockData.size !== blockDataKeys.length) {\n    return false\n  }\n  const missingKey = blockDataKeys.find((key) => blockData[key] !== currentBlockData.get(key))\n  return !missingKey\n}\n\nexport const setBlockData = (editorState, data) => {\n  const nextContentState = Modifier.setBlockData(\n    editorState.getCurrentContent(),\n    editorState.getSelection(),\n    data\n  )\n  return EditorState.push(\n    editorState,\n    nextContentState,\n    'change-block-data'\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { supports } from 'utils/environment'\n\n\nconst requestFullscreen = (element = document.documentElement) => {\n  if (element.requestFullscreen) {\n    element.requestFullscreen()\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen()\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT || {})\n  }\n}\nconst exitFullscreen = () => {\n  if (document.exitFullscreen) {\n    document.exitFullscreen()\n  } else if (document.mozExitFullscreen) {\n    document.mozExitFullscreen()\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen()\n  }\n}\nconst getIsFullscreen = () => Boolean(document.fullscreenElement || document.webkitCurrentFullScreenElement)\nconst toggleFullscreen = () => {\n  if (!getIsFullscreen()) {\n    requestFullscreen()\n  } else if (document.exitFullscreen) {\n    exitFullscreen()\n  }\n}\n\nexport default function useFullscreen() {\n  const [isFullscreen, setIsFullscreen] = useState(getIsFullscreen())\n  useEffect(() => {\n    const handleFullscreenChange = () => setIsFullscreen(getIsFullscreen())\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n    document.addEventListener('webkitfullscreenchange', handleFullscreenChange)\n    document.addEventListener('mozfullscreenchange', handleFullscreenChange)\n\n    return function cleanup() {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n    }\n  }, [setIsFullscreen])\n\n  return {\n    isFullscreen,\n    isFullscreenSupported: supports.fullscreen,\n    toggleFullscreen,\n  }\n}\n","import React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport { platform, mode } from 'utils/environment'\nimport useFullscreen from 'hooks/useFullscreen'\nimport { push } from 'hooks/useSimpleRouter'\n\n\nconst itemStyles = `\n  margin-top: -0.5em;\n  margin-right: 1px;\n  padding: 0.5em 1em;\n  position: relative;\n  &:last-child {\n    margin-right: -0.5em;\n  }\n\n  &:not(:last-child)::after {\n    background: currentColor;\n    bottom: 0.6em;\n    content: '';\n    position: absolute;\n    right: -1px;\n    top: 0.6em;\n    width: 1px;\n  }\n`\nconst Container = styled.div`\n  background-color: ${(props) => props.theme.pageBackground};\n  padding: 0 0.5em;\n  text-align: right;\n\n  @media print {\n    display: none;\n  }\n`\n\nconst HiddenForm = styled.form`\n  display: block;\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n`\nconst MenuButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  line-height: inherit;\n  text-transform: uppercase;\n\n  &:hover,\n  &:focus {\n    background: #DDDDDD;\n    outline: none;\n  }\n\n  ${itemStyles}\n`\nconst Notice = styled.span`\n  color: #999999;\n  display: inline-block;\n\n  ${itemStyles}\n`\n\nfunction Menu({\n  loadFromFile,\n  onReset,\n  onSaveAs,\n  ...otherProps\n}) {\n  const importFormRef = useRef()\n  const importInputRef = useRef()\n  const handleReset = useCallback(() => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm('Are you sure to reject all your changes?')) {\n      onReset()\n    }\n  }, [onReset])\n  const handleHelp = useCallback(() => {\n    push('/')\n  }, [])\n\n  const {\n    isFullscreen,\n    isFullscreenSupported,\n    toggleFullscreen,\n  } = useFullscreen()\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      {(platform.isIos && !mode.isStandalone) && (\n        <Notice>Install this webapp: Tap share button and &#34;Add to Home Screen&#34;</Notice>\n      )}\n      {(!platform.isIos && isFullscreenSupported) && (\n        <MenuButton\n          onClick={toggleFullscreen}\n        >\n          {isFullscreen ? 'Exit full screen' : 'full screen'}\n        </MenuButton>\n      )}\n      <MenuButton\n        onClick={onSaveAs}\n      >\n        Save to file\n      </MenuButton>\n      <MenuButton\n        onClick={() => importInputRef.current.click()}\n      >\n        Import from file\n        <HiddenForm\n          ref={importFormRef}\n        >\n          <input\n            accept=\"text/plain, text/markdown\"\n            aria-hidden={true}\n            tabIndex=\"-1\"\n            type=\"file\"\n            onChange={({ target }) => {\n              loadFromFile(target.files[0])\n\n              // clear value to allow to import from same path again\n              importFormRef.current.reset()\n            }}\n            ref={importInputRef}\n          />\n        </HiddenForm>\n      </MenuButton>\n      <MenuButton\n        onClick={handleReset}\n      >\n        Create new canvas\n      </MenuButton>\n      <MenuButton\n        onClick={window.print}\n      >\n        Print\n      </MenuButton>\n      <MenuButton\n        aria-label=\"Help\"\n        onClick={handleHelp}\n      >\n        ?\n      </MenuButton>\n    </Container>\n  )\n}\n\nMenu.propTypes = {\n  onReset: PropTypes.func.isRequired,\n  onSaveAs: PropTypes.func.isRequired,\n  loadFromFile: PropTypes.func.isRequired,\n}\n\nexport default Menu\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst AreaBorderBase = styled.div`\n  position: absolute;\n  border-color: ${({ theme }) => theme.borderColor};\n  border-style: none;\n  border-width: 1px;\n\n  @media print {\n    border-width: 2px;\n  }\n`\n\nconst BORDER_GAP = '0.75em'\nconst AreaBorderTop = styled(AreaBorderBase)`\n  border-top-style: solid;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n  top: 0;\n`\nconst AreaBorderRight = styled(AreaBorderBase)`\n  border-right-style: solid;\n  bottom: ${BORDER_GAP};\n  right: 0;\n  top: ${BORDER_GAP};\n`\nconst AreaBorderBottom = styled(AreaBorderBase)`\n  border-bottom-style: solid;\n  bottom: 0;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n`\nconst AreaBorderLeft = styled(AreaBorderBase)`\n  border-left-style: solid;\n  bottom: ${BORDER_GAP};\n  left: 0;\n  top: ${BORDER_GAP};\n`\n\nfunction AreaBorder({\n  top,\n  right,\n  bottom,\n  left,\n}) {\n  return (\n    <React.Fragment>\n      {top && <AreaBorderTop />}\n      {right && <AreaBorderRight />}\n      {bottom && <AreaBorderBottom />}\n      {left && <AreaBorderLeft />}\n    </React.Fragment>\n  )\n}\n\nAreaBorder.propTypes = {\n  top: PropTypes.bool,\n  right: PropTypes.bool,\n  bottom: PropTypes.bool,\n  left: PropTypes.bool,\n}\n\nexport default AreaBorder\n","import { useEffect, useState } from 'react'\n\nimport remove from 'lodash/remove'\n\n\nlet watchers = []\n\nconst addToGlobalHandlers = (ref, setIsFocusWithin) => {\n  watchers.push({\n    isFocusWithin: false,\n    ref,\n    setIsFocusWithin,\n  })\n  if (Object.keys(watchers).length === 1) {\n    document.body.addEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.addEventListener('keydown', checkIfFocusIsWithin)\n    document.body.addEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst removeFromGlobalHandlers = (ref) => {\n  remove(watchers, (watcher) => watcher.ref === ref)\n\n  if (Object.keys(watchers).length === 0) {\n    document.body.removeEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keydown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst checkIfFocusIsWithin = ({ target }) => {\n  watchers = watchers.map((watcher) => {\n    const currentElement = watcher.ref.current\n    if (!currentElement) {\n      return watcher\n    }\n    const isFocusWithin = currentElement.contains(target)\n    if (watcher.isFocusWithin === isFocusWithin) {\n      return watcher\n    } else {\n      watcher.setIsFocusWithin(isFocusWithin)\n      return {\n        ...watcher,\n        isFocusWithin,\n      }\n    }\n  })\n}\n\nexport default function useIsFocusWithin(ref) {\n  const [isFocusWithin, setIsFocusWithin] = useState(false)\n  useEffect(() => {\n    addToGlobalHandlers(ref, setIsFocusWithin)\n\n    return function cleanup() {\n      removeFromGlobalHandlers(ref)\n    }\n  }, [ref])\n\n  return isFocusWithin\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatBold = function SvgFormatBold(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatBold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatBold.8680cb7c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z\"\n});\n\nvar SvgFormatSize = function SvgFormatSize(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatSize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatSize.e53198a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"\n});\n\nvar SvgFormatItalic = function SvgFormatItalic(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatItalic, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatItalic.33a74485.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar SvgFormatListBulleted = function SvgFormatListBulleted(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListBulleted, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListBulleted.421c3226.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatListNumbered = function SvgFormatListNumbered(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListNumbered, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListNumbered.84ff2b73.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z\"\n});\n\nvar SvgFormatStrikethrough = function SvgFormatStrikethrough(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatStrikethrough, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatStrikethrough.ea62c122.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"\n});\n\nvar SvgFormatUnderlined = function SvgFormatUnderlined(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatUnderlined, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatUnderlined.4725a735.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar SvgNote = function SvgNote(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgNote, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/note.e8e466e6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport { ReactComponent as FormatBold } from 'icons/formatBold.svg'\nimport { ReactComponent as FormatHeader } from 'icons/formatSize.svg'\nimport { ReactComponent as FormatItalic } from 'icons/formatItalic.svg'\nimport { ReactComponent as FormatListBulleted } from 'icons/formatListBulleted.svg'\nimport { ReactComponent as FormatListNumbered } from 'icons/formatListNumbered.svg'\nimport { ReactComponent as FormatStrikethrough } from 'icons/formatStrikethrough.svg'\nimport { ReactComponent as FormatUnderlined } from 'icons/formatUnderlined.svg'\nimport { ReactComponent as Note } from 'icons/note.svg'\n\n\nexport const inlineControlTypes = [\n  {\n    label: 'Bold',\n    type: 'BOLD',\n    icon: <FormatBold />,\n  },\n  {\n    label: 'Italic',\n    type: 'ITALIC',\n    icon: <FormatItalic />,\n  },\n  {\n    label: 'Underline',\n    type: 'UNDERLINE',\n    icon: <FormatUnderlined />,\n  },\n  {\n    label: 'Strikethrough',\n    type: 'STRIKETHROUGH',\n    icon: <FormatStrikethrough />,\n  },\n]\nexport const blockControlTypes = [\n  {\n    label: 'Header',\n    type: 'header-three',\n    icon: <FormatHeader />,\n  },\n  {\n    label: 'UL',\n    type: 'unordered-list-item',\n    icon: <FormatListBulleted />,\n  },\n  {\n    label: 'OL',\n    type: 'ordered-list-item',\n    icon: <FormatListNumbered />,\n  },\n]\n\n// we use the type 'code-block' and the 'language' data entry to be able to convert it to markdown syntax.\nexport function getCardType({\n  color,\n  label,\n  key = label,\n}) {\n  return {\n    color,\n    data: { language: key },\n    icon: <Note />,\n    label,\n    type: 'code-block',\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst Button = styled.button`\n  color: ${({ color }) => color || 'inherit'};\n  background: ${({ 'aria-pressed': ariaPressed }) => ariaPressed ? '#DDDDDD' : 'transparent'};;\n  border: none;\n  border-radius: 0;\n  cursor: pointer;\n  display: flex;\n  opacity: ${({ 'aria-pressed': ariaPressed }) => ariaPressed ? 1 : 0.5};\n  padding: 0.25em;\n\n  &:hover, &:focus {\n    background: #DDDDDD;\n  }\n  &:first-child {\n    padding-left: 0.4em;\n    border-top-left-radius: 0.75em;\n    border-bottom-left-radius: 0.75em;\n  }\n  &:last-child {\n    padding-left: 0.4em;\n    border-top-right-radius: 0.75em;\n    border-bottom-right-radius: 0.75em;\n  }\n`\n\nfunction StyleButton({\n  color,\n  icon,\n  isActive,\n  label,\n  onToggle,\n  type,\n  data,\n  ...otherProps\n}) {\n  const handleClick = (event) => {\n    event.preventDefault()\n    onToggle(type, data)\n  }\n  const handleKeyDown = (event) => {\n    if (event.key === ' ' || event.key === 'Enter') {\n      handleClick(event)\n    }\n  }\n  return (\n    <Button\n      aria-label={label}\n      aria-pressed={isActive}\n      color={color}\n      onKeyDown={handleKeyDown}\n      onMouseDown={handleClick}\n      tabIndex=\"0\"\n      {...otherProps}\n    >\n      {icon || label}\n    </Button>\n  )\n}\n\nStyleButton.propTypes = {\n  color: PropTypes.string,\n  data: PropTypes.object,\n  icon: PropTypes.node,\n  isActive: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired,\n}\n\n\nexport default StyleButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport StyleButton from './StyleButton'\n\n\nconst Container = styled.div`\n  background: #EEEEEE;\n  border-radius: 0.75em;\n  display: flex;\n  margin-right: 0.5em;\n  margin-top: 0.25em;\n`\n\nfunction BlockStyleControls({\n  controlTypes,\n  getIsActive,\n  onToggle,\n}) {\n  return (\n    <Container>\n      {controlTypes.map((controlType) => (\n        <StyleButton\n          isActive={getIsActive(controlType)}\n          key={controlType.label}\n          onToggle={onToggle}\n          {...controlType}\n        />\n      ))}\n    </Container>\n  )\n}\n\nBlockStyleControls.propTypes = {\n  controlTypes: PropTypes.arrayOf(PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired),\n  getIsActive: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n}\n\nexport default BlockStyleControls\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { getSelectedBlock, hasBlockData, hasBlockType, toggleInlineStyle, toggleBlockType } from 'utils/editor'\nimport styled from 'styled-components'\n\nimport ControlsGroup from './ControlsGroup'\nimport { inlineControlTypes, blockControlTypes } from '../controlTypes'\n\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  height: ${({ isVisible }) => isVisible ? undefined : 0};\n  overflow: hidden;\n  z-index: 2;\n\n  @media print {\n    display: none;\n  }\n`\n\n\nexport function Controls({\n  cardControlTypes,\n  editorState,\n  isVisible,\n  onChange,\n  ...otherProps\n}) {\n  const handleToggleInlineStyle = useCallback(\n    (inlineStyle) => {\n      const toggledEditorState = toggleInlineStyle(editorState, inlineStyle)\n      onChange(toggledEditorState)\n    },\n    [onChange, editorState]\n  )\n\n  const handleToggleBlockType = useCallback(\n    (blockType, data = {}) => {\n      const nextEditorState = toggleBlockType(editorState, blockType, data)\n      onChange(nextEditorState)\n    },\n    [onChange, editorState]\n  )\n\n  const selectedBlock = getSelectedBlock(editorState)\n  const getIsActiveBlock = useCallback(\n    (controlType) => hasBlockType(selectedBlock, controlType.type)\n      && hasBlockData(selectedBlock, controlType.data || {}),\n    [selectedBlock]\n  )\n\n  const currentStyle = editorState.getCurrentInlineStyle()\n  const getIsActiveStyle = useCallback(\n    (controlType) => currentStyle.has(controlType.type),\n    [currentStyle]\n  )\n\n  return (\n    <ControlsContainer\n      isVisible={isVisible}\n      {...otherProps}\n    >\n      <ControlsGroup\n        controlTypes={inlineControlTypes}\n        editorState={editorState}\n        getIsActive={getIsActiveStyle}\n        onToggle={handleToggleInlineStyle}\n      />\n      <ControlsGroup\n        controlTypes={blockControlTypes}\n        editorState={editorState}\n        getIsActive={getIsActiveBlock}\n        onToggle={handleToggleBlockType}\n      />\n      {cardControlTypes.length > 0 && (\n        <ControlsGroup\n          controlTypes={cardControlTypes}\n          editorState={editorState}\n          getIsActive={getIsActiveBlock}\n          onToggle={handleToggleBlockType}\n        />\n      )}\n    </ControlsContainer>\n  )\n}\n\nControls.propTypes = {\n  cardControlTypes: PropTypes.array,\n  editorState: PropTypes.object.isRequired,\n  isVisible: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default Controls\n","\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { EditorBlock } from 'draft-js'\n\n\nconst SectionElement = styled.section`\n  background-color: ${({ color }) => color || '#EEEEEE'};\n  padding: 0.5em;\n`\n\nfunction Card({\n  blockProps,\n  ...otherProps\n}) {\n  return (\n    <SectionElement\n      color={blockProps.color}\n    >\n      <EditorBlock {...otherProps} />\n    </SectionElement>\n  )\n}\n\nCard.propTypes = {\n  blockProps: PropTypes.shape({\n    color: PropTypes.string,\n  }).isRequired,\n}\n\nexport default Card\n","import memoize from 'lodash/memoize'\n\nimport Card from './components/Card'\n\n\n/**\n * We highjack the github flavored markup style for code blocks with language data to display our colored cards.\n */\nexport default memoize((cardStyles) => (contentBlock) => {\n  const type = contentBlock.getType()\n  if (type === 'code-block') {\n    const blockData = contentBlock.getData()\n\n    const currentCardStyle = cardStyles.find(\n      (cardStyle) => blockData.get('language') === cardStyle.key\n    )\n\n    return {\n      component: Card,\n      editable: true,\n      props: {\n        color: currentCardStyle && currentCardStyle.color,\n      },\n    }\n  } else {\n    return null\n  }\n})\n","import React, { useCallback, useMemo, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Editor as DraftJsEditor, RichUtils } from 'draft-js'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport useIsFocusWithin from 'hooks/useIsFocusWithin'\nimport { getCardType } from './controlTypes'\n\nimport Controls from './components/Controls'\nimport getCardRenderer from './getCardRenderer'\n\nimport 'draft-js/dist/Draft.css'\n\n\nconst EditorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst GlobalDraftJsEditorStyle = createGlobalStyle`\n  .DraftEditor-root {\n    flex: 1;\n  }\n  .public-DraftEditorPlaceholder-root {\n    max-height: 100%;\n    overflow: hidden;\n    @media print {\n      display: none;\n    }\n  }\n`\n\n\nexport function Editor({\n  cardStyles,\n  editorState,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  const editorRef = useRef(null)\n  const containerRef = useRef(null)\n  const isFocusWithin = useIsFocusWithin(containerRef)\n\n  const cardRenderer = useMemo(\n    () => getCardRenderer(cardStyles),\n    [cardStyles]\n  )\n\n  const handleChange = useCallback((nextEditorState) => {\n    onChange(nextEditorState)\n  }, [onChange])\n\n  const handleKeyCommand = useCallback((command, nextEditorState) => {\n    const newState = RichUtils.handleKeyCommand(nextEditorState, command)\n    if (newState) {\n      onChange(newState)\n      return 'handled'\n    }\n    return 'not-handled'\n  }, [onChange])\n\n  const handleReturn = useCallback((event) => {\n    if (event.shiftKey) {\n      onChange(RichUtils.insertSoftNewline(editorState))\n      return 'handled'\n    }\n    // TODO: preserve `language` if card is split\n    // https://github.com/facebook/draft-js/blob/master/src/component/handlers/edit/commands/keyCommandInsertNewline.js#L17-L23\n    return 'not-handled'\n  }, [onChange, editorState])\n\n  const handleEditorClick = () => {\n    editorRef.current.focus()\n  }\n\n  return (\n    <EditorContainer // eslint-disable-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n      onClick={handleEditorClick}\n      ref={containerRef}\n      {...otherProps}\n    >\n      <GlobalDraftJsEditorStyle />\n      <DraftJsEditor\n        blockRendererFn={cardRenderer}\n        editorState={editorState}\n        handleKeyCommand={handleKeyCommand}\n        handleReturn={handleReturn}\n        onChange={handleChange}\n        placeholder={placeholder}\n        ref={editorRef}\n      />\n      {!isSimple && (\n        <Controls\n          cardControlTypes={cardStyles && cardStyles.map(getCardType)}\n          editorState={editorState}\n          isVisible={isFocusWithin}\n          onChange={handleChange}\n        />\n      )}\n    </EditorContainer>\n  )\n}\n\nEditor.propTypes = {\n  cardStyles: PropTypes.arrayOf(PropTypes.shape({\n    color: PropTypes.string,\n    key: PropTypes.string,\n    label: PropTypes.string.isRequired,\n  })),\n  editorState: PropTypes.object.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\nEditor.defaultProps = {\n  cardStyles: [\n    {\n      label: 'Card',\n      data: {},\n    },\n    {\n      label: 'Card OK',\n      color: 'green',\n      key: 'ok',\n    },\n    {\n      label: 'Card Warn',\n      color: 'orange',\n      key: 'warn',\n    },\n    {\n      label: 'Card Not OK',\n      color: 'red',\n      key: 'not ok',\n    },\n  ],\n}\n\nexport default Editor\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { getMarkdownFromEditorState } from 'utils/editor'\n\nimport AreaBorder from 'components/AreaBorder'\nimport Editor from 'components/Editor'\n\n\nconst AreaBox = styled.article`\n  background: #ffffff;\n  display: flex;\n  flex-direction: column;\n  padding: 0.75rem;\n  position: relative;\n`\nconst AreaHeader = styled.h2`\n  font-size: 1.4em;\n  margin: 0 0 0.5rem 0;\n`\nconst HiddenAreaHeader = styled.h2`\n  position: absolute;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  text-indent: -999;\n`\nconst StyledEditor = styled(Editor)`\n  flex: 1;\n`\n\nfunction CanvasArea({\n  border,\n  content,\n  editorState,\n  header,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  return (\n    <AreaBox\n      {...otherProps}\n    >\n      {isSimple ? (\n        <HiddenAreaHeader>{header}</HiddenAreaHeader>\n      ) : (\n        <AreaHeader>{header}</AreaHeader>\n      )}\n      <StyledEditor\n        editorState={editorState}\n        isSimple={isSimple}\n        onChange={(nextEditorState) => {\n          onChange({\n            content: getMarkdownFromEditorState(nextEditorState),\n            editorState: nextEditorState,\n          })\n        }}\n        placeholder={placeholder}\n      />\n      <AreaBorder {...border} />\n    </AreaBox>\n  )\n}\n\nCanvasArea.propTypes = {\n  border: PropTypes.object,\n  content: PropTypes.string.isRequired,\n  editorState: PropTypes.object.isRequired,\n  header: PropTypes.string.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\nCanvasArea.defaultProps = {\n  border: [false, false, false, false],\n}\n\nexport default CanvasArea\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport CanvasArea from 'components/CanvasArea'\n\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst HeaderContainer = styled.div`\n  margin: 0.75em 0.75em 0 0.75em;\n  display: flex;\n`\nconst Header = styled.h1`\n  margin: 0;\n  flex: 1;\n`\nconst HeaderInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  width: 100%;\n`\nconst HeaderContainerRight = styled.div`\n`\nconst PropertyInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  text-align: right;\n  width: 20em;\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  flex: 1;\n`\n\nfunction CanvasHeader({\n  getProperty,\n  gridArea, /** ignore */\n  header,\n  onHeaderChange,\n  onPropertyChange,\n  sectionProps,\n  ...otherProps\n}) {\n  const handleHeaderChange = useCallback(({ target }) => {\n    onHeaderChange({ value: target.value })\n  }, [onHeaderChange])\n\n  const handleDateChange = useCallback(({ target }) => {\n    onPropertyChange('date', { value: target.value })\n  }, [onPropertyChange])\n  const handleNameChange = useCallback(({ target }) => {\n    onPropertyChange('name', { value: target.value })\n  }, [onPropertyChange])\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      <HeaderContainer>\n        <Header>\n          <HeaderInput\n            aria-label=\"Your Business\"\n            onChange={handleHeaderChange}\n            placeholder=\"Your Business\"\n            {...header}\n          />\n        </Header>\n        <HeaderContainerRight>\n          <PropertyInput\n            onChange={handleDateChange}\n            {...getProperty('date')}\n          />\n          <PropertyInput\n            onChange={handleNameChange}\n            {...getProperty('name')}\n          />\n        </HeaderContainerRight>\n      </HeaderContainer>\n      <StyledCanvasArea\n        isSimple={true}\n        {...sectionProps}\n      />\n    </Container>\n  )\n}\n\nCanvasHeader.propTypes = {\n  getProperty: PropTypes.func.isRequired,\n  gridArea: PropTypes.string,\n  header: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n  }).isRequired,\n  onHeaderChange: PropTypes.func.isRequired,\n  onPropertyChange: PropTypes.func.isRequired,\n  sectionProps: PropTypes.object.isRequired,\n}\n\nexport default CanvasHeader\n","\nexport default {\n  header: {\n    value: '',\n    placeholder: 'Your Business',\n  },\n  localStorageKey: 'businessModelCanvas',\n  props: [\n    {\n      key: 'date',\n      placeholder: 'Date',\n      value: new Date().toLocaleDateString(),\n    },\n    {\n      key: 'name',\n      placeholder: 'Your Name',\n      value: '',\n    },\n  ],\n  sections: [\n    {\n      key: 'purpose',\n      border: {\n        bottom: true,\n      },\n      content: '',\n      header: 'Purpose',\n      isHeader: true,\n      placeholder: 'Step 1:\\nWhat is the business purpose?\\nYou will need it to validate every single part of the model.',\n    },\n    {\n      key: 'customer-segments',\n      border: {\n        left: true,\n      },\n      content: '',\n      header: 'Customer Segments',\n      placeholder: 'Step 2:\\nWhich customers does your business try to serve?',\n    },\n    {\n      key: 'value-propositions',\n      border: {\n        right: true,\n        left: true,\n      },\n      content: '',\n      header: 'Value Propositions',\n      placeholder: 'Step 3:\\nWhich products and services a business offers meet the needs of the customer segments?',\n    },\n    {\n      key: 'channels',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Channels',\n      placeholder: 'Step 4:\\nWhich channels does your business use to deliver the value proposition to the customer segments',\n    },\n    {\n      key: 'customer-relationships',\n      border: { },\n      content: '',\n      header: 'Customer Relationships',\n      placeholder: 'Step 5:\\nWhich type relationship does your business want to create with the customer segments',\n    },\n    {\n      key: 'revenue-streams',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Revenue Streams',\n      placeholder: 'Step 6:\\nHow does your company make income from each customer segment?',\n    },\n    {\n      key: 'key-resources',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Key Resources',\n      placeholder: 'Step 7:\\nWhich resources are necessary to create the value propositions?',\n    },\n    {\n      key: 'key-activities',\n      border: { },\n      content: '',\n      header: 'Key Activities',\n      placeholder: 'Step 8:\\nWhat are the most important activities in executing the value propositions?',\n    },\n    {\n      key: 'key-partners',\n      border: {\n        right: true,\n      },\n      content: '',\n      header: 'Key Partners',\n      placeholder: 'Step 9:\\nWhich buyer-supplier relationships can help you to focus on your core activity, optimise operations and reduce risks?',\n    },\n    {\n      key: 'cost-structure',\n      border: {\n        top: true,\n        right: true,\n      },\n      content: '',\n      header: 'Cost Structure',\n      placeholder: 'Step 10:\\nWhat are the most important monetary consequences while operating under this business model?',\n    },\n  ],\n}\n","import React, { useState } from 'react'\nimport useMarkdownSync from 'hooks/useMarkdownSync'\nimport styled from 'styled-components'\nimport { mapObject } from 'utils/object'\nimport { createEditorStateFromMarkdown, updateEditorStateWithMarkdown } from 'utils/editor'\n\nimport Menu from 'components/Menu'\nimport CanvasHeader from 'components/CanvasHeader'\nimport CanvasArea from 'components/CanvasArea'\n\nimport model from './model'\n\n\nconst GridContainer = styled.div`\n  background-color: ${({ theme }) => theme.paperBackground};\n  border-color: ${({ theme }) => theme.pageBackground};\n  border-style: solid;\n  border-width: 0.5em;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-template-rows: auto 0.5fr 1fr 1fr 1fr;\n  grid-template-areas:\n    \"menu menu menu menu menu menu menu menu menu menu\"\n    \"purpose purpose purpose purpose purpose purpose purpose purpose purpose purpose\"\n    \"key-partners key-partners key-activities key-activities value-propositions value-propositions customer-relationships customer-relationships customer-segments customer-segments\"\n    \"key-partners key-partners key-resources key-resources value-propositions value-propositions channels channels customer-segments customer-segments\"\n    \"cost-structure cost-structure cost-structure cost-structure cost-structure revenue-streams revenue-streams revenue-streams revenue-streams revenue-streams\";\n  margin: auto;\n\n  height: 100%;\n  width: 100%;\n  @media screen {\n    min-width: 90em;\n    min-height: 60em;\n  }\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledCanvasHeader = styled(CanvasHeader)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledMenu = styled(Menu)`\n  grid-area: menu;\n`\n\nconst getInitialEditorStates = (sections) => sections.reduce(\n  (acc, section) => ({\n    ...acc,\n    [section.key]: createEditorStateFromMarkdown(section.content),\n  }),\n  {}\n)\n\n\nfunction BusinessModelCanvas() {\n  const markdownSyncApi = useMarkdownSync({ model })\n\n  const [editorStates, setEditorStates] = useState(\n    () => getInitialEditorStates(markdownSyncApi.sections)\n  )\n  const setSectionEditorState = (key, editorState) => {\n    const nextEditorStates = {\n      ...editorStates,\n      [key]: editorState,\n    }\n    setEditorStates(nextEditorStates)\n  }\n\n  const updateEditorStates = () => {\n    const nextEditorStates = mapObject(editorStates, (key, editorState) => updateEditorStateWithMarkdown(\n      editorState,\n      markdownSyncApi.getSection(key).content,\n    ))\n    setEditorStates(nextEditorStates)\n  }\n  const handleReset = () => {\n    markdownSyncApi.reset()\n    updateEditorStates()\n  }\n  const handleLoadFromFile = (file) => {\n    markdownSyncApi.loadFromFile(\n      file\n    ).then(\n      updateEditorStates\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <GridContainer>\n        <StyledMenu\n          loadFromFile={handleLoadFromFile}\n          onReset={handleReset}\n          onSaveAs={markdownSyncApi.saveAs}\n        />\n        {(markdownSyncApi.sections.map(({ isHeader, key, ...section }) => {\n          const sectionProps = {\n            editorState: editorStates[key],\n            isSimple: isHeader,\n            onChange: ({ content, editorState }) => {\n              markdownSyncApi.updateSection(key, { content })\n              setSectionEditorState(key, editorState)\n            },\n            ...section,\n          }\n          if (isHeader) {\n            return (\n              <StyledCanvasHeader\n                gridArea={key}\n                header={markdownSyncApi.header}\n                key={key}\n                onHeaderChange={markdownSyncApi.updateHeader}\n                onPropertyChange={markdownSyncApi.updateProperty}\n                getProperty={markdownSyncApi.getProperty}\n                sectionProps={sectionProps}\n              />\n            )\n          } else {\n            return (\n              <StyledCanvasArea\n                gridArea={key}\n                key={key}\n                {...sectionProps}\n              />\n            )\n          }\n        }))}\n      </GridContainer>\n    </React.Fragment>\n  )\n}\n\nexport default BusinessModelCanvas\n"],"sourceRoot":""}